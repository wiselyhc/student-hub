<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>S - Student Study Hub</title>
    <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-9019534232760059"
     crossorigin="anonymous"></script>
    
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800&display=swap" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Cinzel+Decorative:wght@700&display=swap" rel="stylesheet">
    <script src="https://unpkg.com/lucide@latest"></script>

    <!-- Firebase SDKs (v8) -->
    <script src="https://www.gstatic.com/firebasejs/8.10.1/firebase-app.js"></script>
    <script src="https://www.gstatic.com/firebasejs/8.10.1/firebase-auth.js"></script>
    <script src="https://www.gstatic.com/firebasejs/8.10.1/firebase-firestore.js"></script>
    
    <!-- Your new config file -->
    <script src="firebase-init.js"></script>

    <style>
        .font-logo { font-family: 'Cinzel Decorative', cursive; }
        [x-cloak] { display: none !important; }
        :root { --bg-color: #f3f4f6; --text-color: #1f2937; --text-muted-color: #6b7280; --card-bg-color: #ffffff; --border-color: #e5e7eb; --sidebar-bg-color: #ffffff; --sidebar-border-color: #e5e7eb; --active-icon-bg-color: #e5e7eb; --active-link-color: #1f2937; --active-tab-border-color: #111827; --input-bg-color: #ffffff; --input-border-color: #d1d5db; --focus-ring-color: #111827; }
        .dark { --bg-color: #0f172a; --text-color: #cbd5e1; --text-muted-color: #94a3b8; --card-bg-color: #1e293b; --border-color: #334155; --sidebar-bg-color: #1e293b; --sidebar-border-color: #334155; --active-icon-bg-color: #334155; --active-link-color: #ffffff; --active-tab-border-color: #ffffff; --input-bg-color: #334155; --input-border-color: #475569; --focus-ring-color: #ffffff; }
        .cyber { --bg-color: #0d0c22; --text-color: #a5b4fc; --text-muted-color: #818cf8; --card-bg-color: rgba(30, 41, 59, 0.7); --border-color: #4f46e5; --sidebar-bg-color: #1e293b; --sidebar-border-color: #a855f7; --active-icon-bg-color: #4338ca; --active-link-color: #c7d2fe; --active-tab-border-color: #67e8f9; --input-bg-color: rgba(30, 41, 59, 0.7); --input-border-color: #4f46e5; --focus-ring-color: #67e8f9; }
        .forest { --bg-color: #052e16; --text-color: #a7f3d0; --text-muted-color: #6ee7b7; --card-bg-color: #064e3b; --border-color: #047857; --sidebar-bg-color: #064e3b; --sidebar-border-color: #047857; --active-icon-bg-color: #047857; --active-link-color: #ffffff; --active-tab-border-color: #a7f3d0; --input-bg-color: #064e3b; --input-border-color: #047857; --focus-ring-color: #a7f3d0; }
        .ocean { --bg-color: #0c2444; --text-color: #a5b4fc; --text-muted-color: #818cf8; --card-bg-color: #1e3a8a; --border-color: #1d4ed8; --sidebar-bg-color: #1e3a8a; --sidebar-border-color: #1d4ed8; --active-icon-bg-color: #1d4ed8; --active-link-color: #ffffff; --active-tab-border-color: #a5b4fc; --input-bg-color: #1e3a8a; --input-border-color: #1d4ed8; --focus-ring-color: #a5b4fc; }
        .sunset { --bg-color: #450a0a; --text-color: #fca5a5; --text-muted-color: #f87171; --card-bg-color: #7f1d1d; --border-color: #b91c1c; --sidebar-bg-color: #7f1d1d; --sidebar-border-color: #b91c1c; --active-icon-bg-color: #b91c1c; --active-link-color: #ffffff; --active-tab-border-color: #fca5a5; --input-bg-color: #7f1d1d; --input-border-color: #b91c1c; --focus-ring-color: #fca5a5; }
    </style>
    <script src="https://unpkg.com/alpinejs@3.x.x/dist/cdn.min.js" defer></script>
</head>
<body 
    class="antialiased bg-[var(--bg-color)] text-[var(--text-color)] transition-colors duration-300"
    x-data="{ 
        theme: 'light',
        init() {
            auth.onAuthStateChanged(user => {
                if (user) {
                    const userRef = db.collection('users').doc(user.uid);
                    userRef.get().then((doc) => {
                        if (doc.exists) {
                            const userData = doc.data();
                            this.theme = userData.theme || 'light';
                            localStorage.setItem('theme', this.theme);
                        }
                    });
                } else {
                    this.theme = localStorage.getItem('theme') || 'light';
                }
            });
            this.$watch('theme', val => localStorage.setItem('theme', val));
        }
    }"
    :class="{ 'dark': theme === 'dark', 'cyber': theme === 'cyber', 'forest': theme === 'forest', 'ocean': theme === 'ocean', 'sunset': theme === 'sunset' }">

    <main class="min-h-screen flex flex-col items-center justify-center text-center p-4">
        <h1 class="text-5xl md:text-7xl font-extrabold text-[var(--text-color)] leading-tight mb-4">
            Learn more with <span class="font-logo">S</span>
        </h1>
        <p class="text-lg md:text-xl text-[var(--text-muted-color)] max-w-3xl mx-auto mb-8">
            Our platform provides AI-powered tools to help you analyze texts, organize your studies, and achieve your learning goals faster than ever.
        </p>
        <div class="flex justify-center space-x-4">
            <a href="ai-notebook.html" class="px-8 py-3 bg-[var(--active-link-color)] text-[var(--bg-color)] rounded-md hover:opacity-90 transition-transform duration-300 transform hover:scale-105 font-semibold text-lg">
                Start Analyzing
            </a>
        </div>
    </main>

    <!-- Floating Navigation -->
    <nav class="fixed bottom-4 left-1/2 -translate-x-1/2">
        <div class="flex items-center space-x-2 bg-[var(--card-bg-color)]/80 backdrop-blur-lg border border-[var(--border-color)] rounded-full p-2 shadow-2xl transition-transform duration-300 ease-in-out hover:-translate-y-1">
            <a href="index.html" title="Home" class="p-3 rounded-full bg-[var(--active-icon-bg-color)] text-[var(--active-link-color)] transition-colors"><i data-lucide="home" class="w-6 h-6"></i></a>
            <a href="features.html" title="Features" class="p-3 rounded-full text-[var(--text-muted-color)] hover:bg-[var(--active-icon-bg-color)] hover:text-[var(--active-link-color)] transition-colors"><i data-lucide="wand-2" class="w-6 h-6"></i></a>
            <a href="books.html" title="My Library" class="p-3 rounded-full text-[var(--text-muted-color)] hover:bg-[var(--active-icon-bg-color)] hover:text-[var(--active-link-color)] transition-colors"><i data-lucide="library" class="w-6 h-6"></i></a>
            <a href="ai-notebook.html" title="S Notebook" class="p-3 rounded-full text-[var(--text-muted-color)] hover:bg-[var(--active-icon-bg-color)] hover:text-[var(--active-link-color)] transition-colors"><span class="font-logo w-6 h-6 flex items-center justify-center text-xl leading-none">S</span></a>
            <a href="contact.html" title="Contact" class="p-3 rounded-full text-[var(--text-muted-color)] hover:bg-[var(--active-icon-bg-color)] hover:text-[var(--active-link-color)] transition-colors"><i data-lucide="mail" class="w-6 h-6"></i></a>
            <a href="account-center.html" title="Account" class="p-3 rounded-full text-[var(--text-muted-color)] hover:bg-[var(--active-icon-bg-color)] hover:text-[var(--active-link-color)] transition-colors"><i data-lucide="user-circle-2" class="w-6 h-6"></i></a>
        </div>
    </nav>
    
    <script>
        document.addEventListener('DOMContentLoaded', () => {
            lucide.createIcons();
            
            // This script will now work because 'auth' and 'db' are loaded
            // from firebase-init.js
            auth.onAuthStateChanged(user => {
                const isLoggedIn = !!user;
                sessionStorage.setItem('isLoggedIn', isLoggedIn ? 'true' : ''); // Store state for other pages

                const accountLink = document.querySelector('a[title="Account"]');
                const aiNotebookLink = document.querySelector('a[title="S Notebook"]');
                const libraryLink = document.querySelector('a[title="My Library"]'); // Still need to select it, just not protecting it

                if (!isLoggedIn) {
                    // accountLink.href is no longer changed
                    const protectedLinks = [aiNotebookLink]; // <-- libraryLink removed
                    
                    // We must remove old listeners to prevent bugs
                    protectedLinks.forEach(link => {
                        const newLink = link.cloneNode(true);
                        link.parentNode.replaceChild(newLink, link);
                        
                        newLink.addEventListener('click', (e) => {
                            e.preventDefault();
                            window.location.href = 'account-creation.html';
                        });
                    });
                } else {
                    // accountLink.href is no longer changed
                    
                    // Re-bind protected links to their real destinations
                    const protectedLinks = [aiNotebookLink]; // <-- libraryLink removed
                     protectedLinks.forEach(link => {
                        const newLink = link.cloneNode(true);
                        link.parentNode.replaceChild(newLink, link);
                        
                        // No event listener needed, the link will just work
                    });
                }
            });
        });
    </script>
    
    <!-- REMOVED the conflicting v9/v12 module script -->
</body>
</html>






